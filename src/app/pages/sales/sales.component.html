<!-- always keep -->
<div class="header bg-gradient-danger pb-4 pt-4 pt-md-8">
    <div class="container-fluid">
      <div class="header-body">
      </div>
    </div>
</div>
<br class="mt-2">

<div class="container-fluid">

  <div *ngIf="disabledActions">
    <div class="alert alert-danger" role="alert">
      <strong>¡Atención!</strong> El sorteo se encuentra cerrado.
    </div>
  </div>

  <ngx-slick-carousel class="carousel" #slickModal="slick-carousel" [config]="slideConfig" *ngIf="!disabledActions">
    <!-- Sales -->
    <div ngxSlickItem style="padding-right: 5px;">
      <div class="text-right">
        <button type="button" class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
          Números
        </button>
        <button type="button" class="btn btn-sm btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal">
          Recibos
        </button>
      </div>
      <div class="card mt-3">
        <div class="card-header text-center">
          <h3 class="mb-0">Formulario de Ventas</h3>
          <h2 class="mt-2">{{ currentRaffle?.nombre }}</h2>
        </div>
        <div class="card-body" style="padding-top: 0px;">
          <div class="row mt-2">
            <div class="col-6">
              Limite: <strong class="text-bold">{{ limit }}</strong>
            </div>
            <div class="col-6">
              Vendidos: <strong class="text-bold"> {{ amount_sold }}</strong>
            </div>
          </div>
          <!-- FORMULARIO -->
          <form [formGroup]="formSale" (submit)="onSave()">
            <div class="row mt-4">
              <div class="col-6">
                <!-- Form control numero -->
                <div class="form-group">
                  <label for="exampleFormControlInput1">Número</label>
                  <input type="number" class="form-control" style="height: 38px !important;"
                      formControlName="number" #InputNumber (change)="onChange()" (keyup)="onChangeFocus($event)">
                </div>
                <span class="text-danger" *ngIf="validateInput('number')">
                  El número es obligatorio
                </span>
              </div>
              <div class="col-6">
                <!-- Form control monto -->
                <div class="form-group">
                  <label for="exampleFormControlInput1">Monto</label>
                  <input type="number" class="form-control" #InputAmount style="height: 38px !important;"
                  placeholder="Monto" formControlName="amount">
                  <span class="text-danger" *ngIf="validateInput('amount')">
                    El monto es obligatorio
                  </span>
                </div>
              </div>
            </div>
            <!-- Btn Agregar -->
            <div class="text-right mt-2">
              <button type="submit" class="btn btn-sm btn-primary">
                Agregar
              </button>
            </div>
          </form>
          <!-- END FORMS -->
        </div>
      </div>
    </div>
    <!-- Table -->
    <div ngxSlickItem style="margin-top: 18px;">
      <div class="card mt-4">
        <div class="card-body" style="padding-top: 0px;">
          <h3 class="text-center">Rifas Dias</h3>
          <h5 class="text-center">Vendedor: <span>{{ identity?.nombre }}</span></h5>
          <!-- Integrate table -->
          <table class="table">
            <caption></caption>
            <thead>
              <tr>
                <th scope="col">Número</th>
                <th scope="col">Monto</th>
                <th scope="col">Premio</th>
                <th scope="col"></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of listSales; let i = index">
                <td class="align-middle">{{ item?.number }}</td>
                <td class="align-middle">{{ item?.amount }}</td>
                <td class="align-middle">{{ item?.prize }}</td>
                <td class="align-middle">
                  <button class="btn btn-sm text-danger" (click)="onRemove(i)">
                    <i class="bi bi-trash"></i>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
          <!-- End integrate table -->
          <div class="text-right mt-2">
            <button type="button" class="btn btn-sm btn-success" (click)="onSaveAll()">
              Guardar
            </button>
            <button type="button" class="btn btn-sm btn-primary" (click)="getTickets('6INBUSZ8')">
              PRINT
            </button>
          </div>
        </div>
      </div>
    </div>
  </ngx-slick-carousel>

</div>
